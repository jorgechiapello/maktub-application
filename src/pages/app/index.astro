---
import MainLayout from '../../layouts/AppMainLayout.astro';
import MatchCard from '../../components/MatchCard.astro';

const mockMatches = [
  {
    id: 1,
    name: 'Alex Rivera',
    bio: 'Entusiasta del café, fotógrafo amateur y excursionista de fin de semana. ¡Buscando a alguien para compartir aventuras!',
    interests: ['Fotografía', 'Senderismo', 'Café', 'Viajes'],
    imageUrl: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3',
    compatibility: 95
  },
  {
    id: 2,
    name: 'Sarah Chen',
    bio: 'Curadora de arte de día, pianista de jazz de noche. Apasionada por las experiencias culturales y las conversaciones significativas.',
    interests: ['Arte', 'Música', 'Cultura', 'Gastronomía'],
    imageUrl: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3',
    compatibility: 88
  },
];
---

<MainLayout title="Encuentra tu Crush">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h1 class="text-4xl font-bold text-gray-900 mb-4">
        Encuentra tu Crush
      </h1>
      <p class="text-lg text-gray-600">
        Descubre compatibles crushes en nuestro bar
      </p>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
      {mockMatches.map((match, index) => (
        <MatchCard
          match={{
            ...match,
            imageUrl: match.imageUrl + (index === 0 ? '&priority=true' : '')
          }}
          isPremium={false}
        />
      ))}
    </div>
  </div>
</MainLayout>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const onboardingData = localStorage.getItem('profileAnswers');
    if (!onboardingData) {
      // No onboarding data found, redirect to onboarding
      window.location.href = '/app/onboarding';
      return;
    }
  });
</script>
